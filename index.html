<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Moodle Tools v:).:)</title>
    <link
      rel="icon"
      type="image/x-icon"
      href="https://raw.githubusercontent.com/Cazozozop/Moodle-Converter/refs/heads/main/IMG_8179.ico"
    />
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tinymce/6.7.0/tinymce.min.js"></script>
    <style>
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        .animate-fadeIn {
            animation: fadeIn 0.75s ease-out;
        }
        /* Styles pour le virus :) rouge clignotant */
        .smiley-virus {
            position: fixed;
            font-size: 24px;
            font-weight: bold;
            color: red;
            animation: blink 1s infinite;
            user-select: none;
            pointer-events: none;
            z-index: 9999;
        }
        @keyframes blink {
            0%, 100% { opacity: 1; }
            50% { opacity: 0; }
        }

        /* Style pop-up Windows ultra r√©aliste */
        .virus-popup {
            position: fixed;
            width: 350px;
            height: 150px;
            background: linear-gradient(to bottom, #c0c0c0 0%, #e0e0e0 100%);
            border: 2px solid #000;
            box-shadow: 4px 4px 10px rgba(0,0,0,0.5);
            padding: 10px;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            z-index: 10000;
            user-select: none;
            cursor: default;
        }
        .virus-popup-header {
            background: linear-gradient(to right, #000080, #0000cd);
            color: white;
            font-weight: bold;
            padding: 5px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .virus-popup-close {
            background: #ff0000;
            border: none;
            color: white;
            width: 20px;
            height: 20px;
            font-weight: bold;
            cursor: pointer;
            line-height: 18px;
            text-align: center;
            border-radius: 2px;
        }
        .virus-popup-content {
            margin-top: 10px;
            color: black;
            font-size: 14px;
        }
    </style>
</head>
<body
    class="bg-gray-900 text-white flex flex-col items-center justify-center min-h-screen transition-colors duration-300"
    id="body"
>
    <div class="absolute top-4 right-4">
        <button id="themeToggle" class="bg-gray-700 text-white px-4 py-2 rounded">
            ‚òæ
        </button>
    </div>

    <div
        class="bg-gray-800 p-6 rounded-lg shadow-lg max-w-2xl w-full animate-fadeIn"
    >
        <h2 class="text-2xl font-bold mb-4">Moodle Tools v:).:)</h2>

        <!-- Section URL vers Balise Image -->
        <div class="mb-6">
            <label class="block mb-2">Entrez l'URL d'une image :</label>
            <input
                type="text"
                id="imageUrl"
                class="block w-full bg-gray-700 p-2 rounded"
                placeholder="https://example.com/image.jpg"
            />
            <button
                id="generateImageTag"
                class="mt-2 bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded w-full"
            >
                G√©n√©rer Balise Image
            </button>
            <textarea
                id="imageTagOutput"
                class="w-full mt-2 bg-gray-700 p-2 rounded"
                readonly
            ></textarea>
        </div>

        <!-- Section Texte Cliquable -->
        <div class="mb-6">
            <label class="block mb-2">Texte Cliquable :</label>
            <input
                type="text"
                id="linkText"
                class="block w-full bg-gray-700 p-2 rounded"
                placeholder="Texte affich√©"
            />
            <input
                type="text"
                id="linkUrl"
                class="block w-full bg-gray-700 p-2 rounded mt-2"
                placeholder="https://example.com"
            />
            <button
                id="generateLinkTag"
                class="mt-2 bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded w-full"
            >
                G√©n√©rer Balise Lien
            </button>
            <textarea
                id="linkTagOutput"
                class="w-full mt-2 bg-gray-700 p-2 rounded"
                readonly
            ></textarea>
        </div>

        <!-- Editeur de Texte Riche -->
        <div class="mb-6">
            <label class="block mb-2">√âditeur de Texte :</label>
            <textarea id="textEditor"></textarea>
            <button
                id="generateHtmlTag"
                class="mt-2 bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded w-full"
            >
                G√©n√©rer Code HTML
            </button>
            <textarea
                id="htmlTagOutput"
                class="w-full mt-2 bg-gray-700 p-2 rounded"
                readonly
            ></textarea>
        </div>

        <!-- Section YouTube -->
        <div class="mb-6">
            <label class="block mb-2">Lien YouTube :</label>
            <input
                type="text"
                id="youtubeUrl"
                class="block w-full bg-gray-700 p-2 rounded"
                placeholder="https://youtube.com/watch?v=... ou https://youtube.com/shorts/..."
            />
            <button
                id="generateYoutubeTag"
                class="mt-2 bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded w-full"
            >
                G√©n√©rer Balise YouTube
            </button>
            <textarea
                id="youtubeTagOutput"
                class="w-full mt-2 bg-gray-700 p-2 rounded"
                readonly
            ></textarea>
        </div>
    </div>

    <!-- SECTION IMGHOST -->
    <div
        class="bg-gray-800 p-6 rounded-lg shadow-lg max-w-2xl w-full animate-fadeIn mt-6"
    >
        <h2 class="text-xl font-bold mb-4">Importer une image via Imghost</h2>

        <button
            id="openImghost"
            class="bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded w-full"
        >
            Ouvrir Imghost
        </button>

        <label class="block mt-4"
            >Colle ici le code HTML g√©n√©r√© par Imghost :</label
        >
        <textarea
            id="imghostInput"
            class="w-full bg-gray-700 p-2 rounded"
            placeholder="Colle ici le code HTML complet..."
        ></textarea>

        <button
            id="convertImghost"
            class="mt-2 bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded w-full"
        >
            G√©n√©rer Balise Image Moodle
        </button>

        <textarea
            id="imghostOutput"
            class="w-full mt-2 bg-gray-700 p-2 rounded"
            readonly
        ></textarea>
    </div>

    <!-- Bouton Statistiques secret en bas √† gauche -->
    <div
        id="stats-container"
        class="fixed bottom-4 left-4 text-xs text-gray-400 select-none"
    >
        <button
            id="showStats"
            class="bg-gray-700 hover:bg-gray-600 text-white px-3 py-1 rounded"
        >
            Statistiques
        </button>
        <div
            id="statsContent"
            class="mt-2 hidden bg-gray-800 p-2 rounded shadow max-w-xs"
        >
            <!-- Statistiques texte -->
            <p>si tu lis √ßa, t'es sigma ;)</p>
            <!-- Compteur visiteurs Free-Counters -->
            <a href="https://www.free-counters.org/"> ü§´üßèüóø</a>
            <script type="text/javascript" src="https://www.free-counters.org/count/i0rt"></script><br>
            <a href='https://www.free-counters.org/'>www.Free-Counters.org</a> 
            <script type='text/javascript' src='https://www.whomania.com/ctr?id=b254383469544596e413b7411fc1438342129911'></script>
        </div>
    </div>

<script>
    // --- Faux virus ---
    // Cr√©e des :) rouges clignotants partout
    function createSmiley() {
        const smiley = document.createElement("div");
        smiley.classList.add("smiley-virus");
        smiley.textContent = ":)";
        // Position al√©atoire dans la fen√™tre
        smiley.style.top = Math.random() * window.innerHeight + "px";
        smiley.style.left = Math.random() * window.innerWidth + "px";
        document.body.appendChild(smiley);
        // Supprime apr√®s 10s pour pas surcharger
        setTimeout(() => {
            smiley.remove();
        }, 10000);
    }

    // Cr√©e une pop-up virus Windows ultra r√©aliste
    function createVirusPopup(message) {
        const popup = document.createElement("div");
        popup.classList.add("virus-popup");
        // Position al√©atoire mais visible
        popup.style.top = (50 + Math.random() * (window.innerHeight - 200)) + "px";
        popup.style.left = (50 + Math.random() * (window.innerWidth - 400)) + "px";

        popup.innerHTML = `
            <div class="virus-popup-header">
                Erreur syst√®me
                <button class="virus-popup-close" title="Fermer la fen√™tre">X</button>
            </div>
            <div class="virus-popup-content">${message}</div>
        `;
        document.body.appendChild(popup);

        // Fermeture au clic sur le X
        popup.querySelector(".virus-popup-close").onclick = () => {
            popup.remove();
        };
    }

    // Lancement du faux virus
    function launchFakeVirus() {
        // Ajoute plusieurs smileys rapidement
        for (let i = 0; i < 50; i++) {
            setTimeout(createSmiley, i * 100);
        }

        // Ajoute plusieurs popups avec des messages typiques Windows
        const messages = [
            "Erreur fatale : Acc√®s m√©moire refus√©.",
            "Le syst√®me a rencontr√© une erreur critique.",
            "Programme non r√©pondant. Voulez-vous terminer ce programme ?",
            "Erreur 0x80070005 : Acc√®s refus√©.",
            "Windows a rencontr√© un probl√®me et doit red√©marrer.",
            "Votre syst√®me a √©t√© compromis. Veuillez contacter l'administrateur.",
            "Erreur de pilote d√©tect√©e. Red√©marrage n√©cessaire.",
            "La ressource demand√©e est indisponible.",
            "Erreur d'application inconnue. Veuillez r√©essayer plus tard.",
            "Erreur syst√®me critique : arr√™t imm√©diat."
        ];

        // Affiche les popups toutes les 700ms pour ne pas saturer
        let index = 0;
        const popupInterval = setInterval(() => {
            if (index >= messages.length) {
                clearInterval(popupInterval);
                return;
            }
            createVirusPopup(messages[index]);
            index++;
        }, 700);
    }

    // --- D√©sactivation compl√®te des fonctions originales des boutons ---
    // Tous les boutons doivent uniquement lancer le faux virus

    // R√©cup√®re tous les boutons dans la page
    const buttons = document.querySelectorAll("button");

    // Remplace leur action onclick
    buttons.forEach((btn) => {
        btn.onclick = (e) => {
            e.preventDefault();
            e.stopPropagation();
            launchFakeVirus();
            return false;
        };
    });

    // --- Theme toggle (d√©sactiv√© car boutons bloqu√©s) ---
    // Si tu veux que le th√®me fonctionne, il faudra un bouton s√©par√© hors du container

    // Pour emp√™cher TinyMCE de charger (car bouton bloqu√©), on ne l'initialise pas.

</script>
</body>
</html>
